TCPエコーサーバとTCPエコークライアントを作成しよう。
TCPエコーサーバは
- 「TCPの接続を待ち受け」と「接続済みのクライアントからの受信」を待つ
- 接続イベントが発生した場合、接続したクライアントを接続リストに登録
- 接続済みクライアントからの受信イベントが発生した場合、そのクライアントからの受信を行い、接続リストのすべてのクライアントに受信したデータを送信する。
- 上記を繰り返す
TCPエコークライアントは
- TCPエコーサーバに接続
- 「ユーザからの文字列入力」と「サーバからの受信」を待つ
- ユーザからの文字列入力が発生した場合、入力された文字列をサーバへ送信
- サーバからの受信イベントが発生した場合、データを受信し、そのデータを標準出力に出力
- イベントを待つのところから繰り返す